\documentclass[12pt]{book}

% Packages
\usepackage{graphicx}
\usepackage{a4wide}
\usepackage{fancyhdr}
\usepackage{fancyvrb}


\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsmath}

\usepackage{amsfonts}
\usepackage{amsbsy}

\usepackage{psfrag}
\usepackage{makeidx}
\usepackage{longtable}
\usepackage{here}
\usepackage{array}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage[procnames]{listings}
\usepackage[usenames]{color}
\usepackage{moreverb}
\usepackage{fancyvrb}
\usepackage{bm}
\usepackage{algorithm}
\usepackage{multicol}
\usepackage{url}
\usepackage{subfigure}
\usepackage{changepage}
\usepackage{xspace}
\usepackage[round,authoryear,comma,sort]{natbib}

\renewcommand{\cite}[1]{\citep{#1}}

% Set margins
\usepackage[top=3cm, bottom=3cm, left=3cm, right=3cm]{geometry}

% Fonts and chapter styles
\usepackage{sectsty}
\sectionfont{\sf}
\subsectionfont{\it}
\usepackage[Sonny]{fncychap}
\usepackage{newcent}
\lhead{}
\rhead{}

% Clear empty page when chapter open right
\let\origdoublepage\cleardoublepage
\newcommand{\clearemptydoublepage}{%
  \clearpage
  {\pagestyle{empty}\origdoublepage}%
}

% Book macros
\newcommand{\fenicschapter}[4]{\chapter{#1 \\ \small{\rm By #3}} \vspace{-1cm}
                              Chapter ref: \textbf{[#4]} \label{chap:#4} \vspace{1cm} \chead[#2]{#3}}
\newcommand{\fenicsappendix}[2]{\chapter{#1} \chead{#2}}
\newcommand{\fenics}{\textbf{FEniCS}}
\newcommand{\dolfin}{\textbf{DOLFIN}}
\newcommand{\editornote}[1]{\noindent\begin{minipage}{\textwidth}
                            \small\it $\blacktriangleright$ \underline{\emph{Editor note}}: #1
                            \end{minipage}\normalsize \vspace{0.2cm}}
\newcommand{\authornote}[1]{\noindent\begin{minipage}{\textwidth}
                            \small\it $\blacktriangleright$ \underline{\emph{Author note}}: #1
                            \end{minipage}\normalsize \vspace{0.2cm}}
\newcommand{\includechapter}[1]{\include{chapters/#1/chapter}\clearemptydoublepage}
\newcommand{\includeappendix}[1]{\include{appendix/#1}\clearemptydoublepage}
\newcommand{\includemisc}[1]{\include{#1}\clearemptydoublepage}

% Widths, use for figures
\newcommand{\largewidth}{10cm}
\newcommand{\smallwidth}{5cm}

% Project names
\newcommand{\projectfont}[1]{{#1}}
\newcommand{\ufl}{\projectfont{UFL}}
\newcommand{\fiat}{\projectfont{FIAT}}
\newcommand{\ferrari}{\projectfont{FErari}}
\newcommand{\sfc}{\projectfont{SFC}}
\newcommand{\ufc}{\projectfont{UFC}}
\newcommand{\ffc}{\projectfont{FFC}}
\newcommand{\viper}{\projectfont{Viper}}
\newcommand{\pydolfin}{\projectfont{PyDOLFIN}}
\renewcommand{\dolfin}{\projectfont{DOLFIN}}
\renewcommand{\fenics}{\projectfont{FEniCS}}

% Package names
\newcommand{\packagefont}[1]{{#1}}
\newcommand{\numpy}{\packagefont{NumPy}}
\newcommand{\scipy}{\packagefont{SciPy}}
\newcommand{\sympy}{\packagefont{SymPy}}
\newcommand{\python}{\packagefont{Python}}
\newcommand{\petsc}{\packagefont{PETSc}}
\newcommand{\diffsim}{\packagefont{DiffSim}}
\newcommand{\tetgen}{\packagefont{TetGen}}
\newcommand{\swig}{\packagefont{SWIG}}
\newcommand{\trilinos}{\packagefont{Trilinos}}
\newcommand{\vtk}{\packagefont{VTK}}
\newcommand{\itk}{\packagefont{ITK}}
\newcommand{\ginac}{\packagefont{GiNaC}}
\newcommand{\hypre}{\packagefont{HYPRE}}
\newcommand{\swig}{\packagefont{SWIG}}
\newcommand{\emp}[1]{\texttt{#1}}
\newcommand{\bit}{\begin{itemize}}
\newcommand{\eit}{\end{itemize}}


% Notation macros
\newcommand{\dx}{\, \mathrm{d}x}
\newcommand{\dX}{\, \mathrm{d}X}
\newcommand{\ds}{\, \mathrm{d}s}
\newcommand{\dS}{\, \mathrm{d}S}
\newcommand{\dt}{\, \mathrm{d}t}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Hdiv}{H(\mathrm{div})}
\newcommand{\Hcurl}{H(\mathrm{curl})}
\newcommand{\nedelec}{N\'ed\'elec}
\newcommand{\babuska}{Babu\v ska}

% Math operators
\DeclareMathOperator{\PE}{PE}
\DeclareMathOperator{\PEe}{PE_e}
\DeclareMathOperator{\e}{e}

% Example environment
\newtheorem{example}{Example}[chapter]

% Definition environment
\newtheorem{definition}{Definition}[chapter]

% Propopsition environment
\newtheorem{proposition}{Proposition}[section]

% Remark environment
\newtheorem{remark}{Remark}[section]

% Code environment
\DefineVerbatimEnvironment{code}{Verbatim}{frame=single,rulecolor=\color{blue}}

% Create index
\makeindex

% Start with empty pagestyle
\pagestyle{empty}
